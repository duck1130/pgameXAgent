# 🗡️ 攻擊系統實作說明

## 📋 功能概述

成功實作了完整的攻擊系統，支援鐵劍音效和戰鬥機制！硬漢貓咪雖然平時溫柔，但戰鬥起來可是毫不含糊的！(ˊ・ω・ˋ)

## ⚔️ 攻擊機制

### 操作方式
- **攻擊鍵**: `空白鍵 (SPACE)` - 玩家主動攻擊
- **攻擊範圍**: 60像素範圍內的敵人和可攻擊物件
- **攻擊冷卻**: 0.8秒，防止瘋狂點擊

### 攻擊目標
1. **怪物** - 地表和洞穴中的敵對生物
2. **樹木** - 可用武器或工具砍伐
3. **洞穴怪物** - 洞穴探險中的強力敵人

## 🎵 音效系統

### 鐵劍音效 (iron_sword 裝備時)
- **揮劍音效**: `Sword_whoosh_1.mp3` - 每次按攻擊鍵播放
- **命中音效**: `Sword_slash_2.mp3` - 砍到怪物時播放

### 砍樹音效
- **砍樹音效**: `break2.ogg` - 每次砍樹時播放 (E鍵互動 或 空白鍵攻擊)

### 其他攻擊音效
- **普通攻擊**: 使用原有的攻擊音效 (徒手或工具攻擊時)

## ⚒️ 傷害計算

```python
# 基礎傷害
base_damage = 1

# 武器加成
if equipped_weapon == "iron_sword":
    weapon_damage = 5  # 鐵劍額外傷害
elif equipped_tool in ["axe", "pickaxe"]:
    weapon_damage = 2  # 工具額外傷害
else:
    weapon_damage = 0  # 徒手

total_damage = base_damage + weapon_damage
```

## 🎯 目標系統

### 地表攻擊
- 攻擊範圍內的怪物 (Monster)
- 樹木 (Tree) - 需要鐵劍或工具才能攻擊

### 洞穴攻擊
- 洞穴怪物 (CaveMonster) - 血量更高，掉落更好物品
- 支援深度戰鬥系統

## 🎮 使用指南

### 1. 裝備鐵劍
```
1. 按 C 鍵進入製作模式
2. 按 7 鍵製作鐵劍 (需要2個鐵錠 + 1個木材)
3. 按 7 鍵裝備鐵劍
```

### 2. 戰鬥操作
```
1. 靠近敵人 (60像素範圍內)
2. 按空白鍵攻擊
3. 聽到揮劍音效 (Sword_whoosh_1.mp3)
4. 命中敵人時聽到砍擊音效 (Sword_slash_2.mp3)
```

### 3. 砍樹操作
```
方法一: E鍵互動砍樹 (傳統方式)
方法二: 空白鍵攻擊砍樹 (新功能)
```

## 🔧 技術實作

### 配置新增
- `PLAYER_CONFIG`: 添加攻擊範圍、冷卻時間、基礎傷害
- `AUDIO_CONFIG`: 添加三個新音效檔案路徑

### 新增方法
- `Player.attack()`: 主要攻擊邏輯
- `Game._handle_cave_attack()`: 洞穴攻擊處理
- `SoundManager.play_sword_*()`: 劍類音效方法

### 輸入處理
- 主程式添加 `pygame.K_SPACE` 攻擊鍵處理
- 支援地表和洞穴兩種攻擊模式

## 🐱 硬漢貓咪小貼士

> 「想要在這個危險的世界生存下去，光靠溫柔是不夠的...有時候必須亮出爪子！不過本大爺的攻擊可是很有技巧的，不是亂砍一通！」 (・ω・)ﾉ

### 最佳實戰策略
1. **優先製作鐵劍** - 傷害高且音效酷炫
2. **保持攻擊距離** - 60像素範圍剛好安全
3. **注意冷卻時間** - 0.8秒冷卻，別瘋狂點擊
4. **善用音效判斷** - 聽音效判斷是否命中

## 🔊 音效檔案對應

| 動作 | 條件 | 音效檔案 | 說明 |
|------|------|----------|------|
| 揮劍 | 裝備鐵劍時按空白鍵 | `Sword_whoosh_1.mp3` | 揮劍音效 |
| 命中怪物 | 鐵劍砍中怪物 | `Sword_slash_2.mp3` | 砍擊音效 |
| 砍樹 | 互動或攻擊樹木 | `break2.ogg` | 砍樹音效 |

---

**實作完成時間**: 2025年8月1日  
**開發團隊**: 硬漢貓咪開發團隊 🐱  
**版本**: v3.2.0 - 攻擊系統更新

*「這次的攻擊系統實作得不錯...雖然本大爺平時不喜歡打打殺殺，但為了生存也是沒辦法的事！」* (ˋ・ω・ˊ)
